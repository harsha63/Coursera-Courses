#include <bits/stdc++.h> 
typedef long long int ll;
using namespace std; 
  

void printKMax(ll arr[], ll n, ll k) 
{ 
    std::deque<ll> Qi(k); 
  

    ll i; 
    for (i = 0; i < k; ++i) { 
        while ((!Qi.empty()) && arr[i] >= arr[Qi.back()]) 
            Qi.pop_back(); 
        Qi.push_back(i); 
    } 
  

    for (; i < n; ++i) { 

        cout << arr[Qi.front()] << " "; 
  

        while ((!Qi.empty()) && Qi.front() <= i - k) 
            Qi.pop_front(); 
        while ((!Qi.empty()) && arr[i] >= arr[Qi.back()]) 
            Qi.pop_back(); 
  

        Qi.push_back(i); 
    } 
  

    cout << arr[Qi.front()]; 
} 
  

int main() 
{   ll m,n; cin>>n;
    ll arr[n]; for(ll i=0; i<n; i++) cin>>arr[i]; 

    cin>>m;
    printKMax(arr, n, m); 
    return 0; 
} 
